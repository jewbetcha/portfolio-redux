<!doctype html>
<html ng-app="portfolioApp">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
  </head>

  <body ng-controller="mainController">

    <!-- CHAT MARKUP -->
    <div class="example-chat l-demo-container">
      <header>Firebase Chat Demo</header>

      <ul id="example-messages" class="example-chat-messages">
        <li ng-repeat="msg in messages">
          <strong class="example-chat-username">{{ msg.from }}</strong>
          {{ msg.body }}
        </li>
      </ul>
    </div>

    <script>
      var portfolioApp = angular.module("portfolioApp", ["firebase"]);

      myApp.controller("mainController", ["$scope", "$firebaseArray",
        function($scope, $firebaseArray) {
          //CREATE A FIREBASE REFERENCE
          var ref = new Firebase("https://kolemann.firebaseio.com/");

          // GET MESSAGES AS AN ARRAY
          $scope.messages = $firebaseArray(ref);

          //ADD MESSAGE METHOD
          // $scope.addMessage = function(e) {
          //
          //   //LISTEN FOR RETURN KEY
          //   if (e.keyCode === 13 && $scope.msg) {
          //     //ALLOW CUSTOM OR ANONYMOUS USER NAMES
          //     var name = $scope.name || "anonymous";
          //
          //     //ADD TO FIREBASE
          //     $scope.messages.$add({
          //       from: name,
          //       body: $scope.msg
          //     });
          //
          //     //RESET MESSAGE
          //     $scope.msg = "";
          //   }
          // }
        }
      ]);
    </script>
  </body>
</html>
